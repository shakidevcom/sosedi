!function(e){var t={};function n(i){if(t[i])return t[i].exports;var s=t[i]={i:i,l:!1,exports:{}};return e[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(i,s,function(t){return e[t]}.bind(null,s));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=7)}({7:function(e,t,n){e.exports=n("xAKH")},xAKH:function(e,t,n){"use strict";window.zPushModule=function(){var e=document.querySelector("#push-messaging-btn")||document.createElement("button"),t=!1,n=!1,i=function(){},s=document.querySelector(".js-subscription-details"),o="shakidev.com",r={};function u(){if("denied"===Notification.permission)return e.textContent="Push Messaging Blocked.",e.disabled=!0,n=!0,void l(null);n=!1,e.textContent=t?"Disable Push Messaging":"Enable Push Messaging",e.disabled=!1,i()}function c(){null.pushManager.getSubscription().then((function(e){if(e)return e.unsubscribe()})).catch((function(e){console.log("Error unsubscribing",e)})).then((function(){l(null),console.log("User is unsubscribed."),t=!1,u()}))}function a(){var e=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=window.atob(t),i=new Uint8Array(n.length),s=0;s<n.length;++s)i[s]=n.charCodeAt(s);return i}("AAAAqHe4Kg0:APA91bEX9XJ5dXxFrldoz3-VLQyOAQJ_870BgPTCRs5w0aEQGt0BoAHPIGH-3onRv3HXsTHvR4AJW6y2r71mkaD1tTGZTplsXjTu6T09NJ8Ggm_UhrYjDrlcStQLWPS-WNYvu3cGSI6q");null.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e}).then((function(e){console.log("User is subscribed."),l(e),t=!0,u()})).catch((function(e){console.log("Failed to subscribe the user: ",e),u()}))}function l(e){s?e?(console.log(JSON.stringify(e)),s.classList.remove("is-invisible")):s.classList.add("is-invisible"):console.log(JSON.stringify(e)),e&&function(e,t,n){var i=new XMLHttpRequest,s=new FormData;for(var o in t)t.hasOwnProperty(o)&&s.append(o,t[o]);i.open("POST",e,!0),i.onreadystatechange=function(){4==this.readyState&&(200==this.status?n("success",this.responseText):n("error",this.statusText))},i.send(s)}("/subscribe_on_push2.php",{action:"add",endpoint:e.endpoint,subscription:JSON.stringify(e),hostname:o},(function(e,t){var n=!1;if(r={},"success"===e)try{var o=JSON.parse(t);r=o,"success"===o.status?(s.classList.remove("push-details-error"),s.classList.add("push-details-success"),s.textContent=o.msg,n=!0):(s.classList.remove("push-details-success"),s.classList.add("push-details-error"),s.textContent=o.msg)}catch(e){console.log("invalid json",e),r={status:"fail",msg:"invalid json"}}else(r={status:"fail",msg:""}).msg=t;n||c(),i(),r={}}))}return{initialized:!1,init:function(t){if(t){o=window.location.hostname;var n=null,r=null;"button_id"in t&&(n=t.button_id),"msg_box_id"in t&&(r=t.msg_box_id),e=document.querySelector(n)||document.createElement("button"),s=document.querySelector(r)||document.createElement("div"),"updateUI"in t&&(i=t.updateUI),"initialSubscribe"in t&&(initialSubscribe=t.initialSubscribe),"serviceWorker"in navigator&&"PushManager"in window||(console.warn("Push messaging is not supported"),e.textContent="Push Not Supported")}},subscribeUser:function(){this.initialized&&(t?(u(),console.log("already subscribed on notifications")):a())},unsubscribeUser:function(){this.initialized&&(c(),"undefined"!=typeof Storage&&localStorage.setItem("znews_unsubscribed_v1",Date.now()))},getCurrentDomain:function(){return o},checkSubscribe:function(){return!this.initialized||t},checkBlocked:function(){return!this.initialized||n},getStatus:function(){return e.textContent},getUpdateResult:function(){return r},getSubscription:function(){if(this.initialized)return null.pushManager.getSubscription()}}}()}});